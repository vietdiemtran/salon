import{k as I,r as n,j as l,n as v,o as b,W as f,x as g}from"./index-Dj3cS6za.js";var m="Avatar",[j,T]=I(m),[C,x]=j(m),S=n.forwardRef((a,e)=>{const{__scopeAvatar:r,...s}=a,[o,t]=n.useState("idle");return l.jsx(C,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:t,children:l.jsx(v.span,{...s,ref:e})})});S.displayName=m;var L="AvatarImage",w=n.forwardRef((a,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...t}=a,i=x(L,r),u=y(s,t),d=b(c=>{o(c),i.onImageLoadingStatusChange(c)});return f(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?l.jsx(v.img,{...t,ref:e,src:s}):null});w.displayName=L;var h="AvatarFallback",E=n.forwardRef((a,e)=>{const{__scopeAvatar:r,delayMs:s,...o}=a,t=x(h,r),[i,u]=n.useState(s===void 0);return n.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>u(!0),s);return()=>window.clearTimeout(d)}},[s]),i&&t.imageLoadingStatus!=="loaded"?l.jsx(v.span,{...o,ref:e}):null});E.displayName=h;function p(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function y(a,{referrerPolicy:e,crossOrigin:r}){const s=_(),o=n.useRef(null),t=s?(o.current||(o.current=new window.Image),o.current):null,[i,u]=n.useState(()=>p(t,a));return f(()=>{u(p(t,a))},[t,a]),f(()=>{const d=R=>()=>{u(R)};if(!t)return;const c=d("loaded"),A=d("error");return t.addEventListener("load",c),t.addEventListener("error",A),e&&(t.referrerPolicy=e),typeof r=="string"&&(t.crossOrigin=r),()=>{t.removeEventListener("load",c),t.removeEventListener("error",A)}},[t,r,e]),i}function N(){return()=>{}}function _(){return n.useSyncExternalStore(N,()=>!0,()=>!1)}var k=S,F=w,M=E;const $=n.forwardRef(({className:a,...e},r)=>l.jsx(k,{ref:r,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...e})),H=n.forwardRef(({className:a,...e},r)=>l.jsx(F,{ref:r,className:g("aspect-square h-full w-full",a),...e})),W=n.forwardRef(({className:a,...e},r)=>l.jsx(M,{ref:r,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...e}));export{$ as A,H as a,W as b};
