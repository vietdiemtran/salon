import{u as N,s as I,a as _,b as L,c as P,r as v,d as A,j as e,h as q,e as U}from"./index-Dj3cS6za.js";import{B as w}from"./button-Crtod_yx.js";import{C as B,a as D}from"./card-C8qa4OaK.js";import{C as G}from"./checkbox-BgBSMKdn.js";import{z as h,u as y,s as S,F as k,a as n,b as r,c as l,d as a,e as t}from"./zod-4yZnVHA1.js";import{I as c}from"./input-CZim18_A.js";import{S as R,a as H,b as K,c as Q,d as p}from"./select-Ck2txczR.js";import{T as X,a as $,b as C,c as T}from"./tabs-CpJS4XpB.js";import{p as u,a as J,s as O,t as o,b as W,c as Y,d as Z}from"./index-DTV90kgF.js";import{S as F}from"./scissors-DC2aMT_D.js";import"./index-DvGPzrVe.js";import"./index-BGWUGcaw.js";import"./check-sEMdCc3q.js";import"./Combination-27LuzUOQ.js";import"./index-CF79JPbI.js";import"./index-Cq9-3w0A.js";const ee=h.object({email:h.string().email({message:"Email không hợp lệ"}),password:h.string().min(5,{message:"Mật khẩu phải có ít nhất 6 ký tự"}),rememberMe:h.boolean().optional()}),se=ee,ne=u("user_role",["customer","staff","owner"]);u("appointment_status",["pending","confirmed","cancelled","completed"]);u("payment_status",["pending","paid","refunded"]);u("reminder_status",["pending","sent","failed"]);const re=J("users",{id:O("id").primaryKey(),email:o("email").notNull().unique(),password:o("password").notNull(),firstName:o("first_name").notNull(),lastName:o("last_name").notNull(),phone:o("phone"),role:ne("role").notNull().default("customer"),profileImage:o("profile_image"),verified:W("verified").default(!1),createdAt:Y("created_at").defaultNow()}),le=Z(re).omit({id:!0,createdAt:!0}),ae=le.extend({confirmPassword:h.string().min(6)}).refine(d=>d.password===d.confirmPassword,{message:"Mật khẩu xác nhận không khớp",path:["confirmPassword"]});function we(){const d=N(I),x=N(_),f=L(),g=P(),[M,V]=v.useState("login");v.useEffect(()=>{d&&g(A.dashboard.path)},[d,g]);const m=y({resolver:S(se),defaultValues:{email:"",password:"",rememberMe:!1}}),i=y({resolver:S(ae),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",role:"customer"}});function z(s){const{email:b,password:j}=s;f(q({email:b,password:j}))}function E(s){const{confirmPassword:b,...j}=s;f(U(j))}return e.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"grid w-full max-w-4xl gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"hidden rounded-lg bg-primary p-8 text-white shadow-lg md:block",children:[e.jsxs("div",{className:"mb-6 flex items-center",children:[e.jsx(F,{className:"mr-2 size-8"}),e.jsx("h2",{className:"font-heading text-2xl font-bold",children:"Salon Manager"})]}),e.jsx("h1",{className:"mb-6 text-3xl font-bold",children:"Hệ thống Quản lý và Vận hành Salon Tóc"}),e.jsx("p",{className:"mb-4",children:"Giải pháp toàn diện giúp tối ưu hóa quy trình đặt lịch, quản lý dịch vụ và thu hút khách hàng."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 flex size-5 items-center justify-center rounded-full bg-white bg-opacity-20",children:"✓"}),e.jsx("span",{children:"Dễ dàng đặt lịch và quản lý lịch hẹn"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 flex size-5 items-center justify-center rounded-full bg-white bg-opacity-20",children:"✓"}),e.jsx("span",{children:"Theo dõi dịch vụ và khuyến mãi"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 flex size-5 items-center justify-center rounded-full bg-white bg-opacity-20",children:"✓"}),e.jsx("span",{children:"Nhắc nhở tự động qua SMS và email"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 flex size-5 items-center justify-center rounded-full bg-white bg-opacity-20",children:"✓"}),e.jsx("span",{children:"Gợi ý kiểu tóc sử dụng AI"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 flex size-5 items-center justify-center rounded-full bg-white bg-opacity-20",children:"✓"}),e.jsx("span",{children:"Báo cáo doanh thu và phân tích kinh doanh"})]})]})]}),e.jsx(B,{children:e.jsxs(D,{className:"pt-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-center md:hidden",children:[e.jsx(F,{className:"mr-2 size-8 text-primary"}),e.jsx("h2",{className:"font-heading text-2xl font-bold text-primary",children:"Salon Manager"})]}),e.jsxs(X,{defaultValue:"login",value:M,onValueChange:V,children:[e.jsxs($,{className:"mb-4 grid w-full grid-cols-2",children:[e.jsx(C,{value:"login",children:"Đăng nhập"}),e.jsx(C,{value:"register",children:"Đăng ký"})]}),e.jsx(T,{value:"login",children:e.jsx(k,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(z),className:"space-y-4",children:[e.jsx(n,{control:m.control,name:"email",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Email"}),e.jsx(a,{children:e.jsx(c,{placeholder:"vidu@example.com",...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:m.control,name:"password",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Mật khẩu"}),e.jsx(a,{children:e.jsx(c,{type:"password",placeholder:"••••••",...s})}),e.jsx(t,{})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{control:m.control,name:"rememberMe",render:({field:s})=>e.jsxs(r,{className:"flex items-center space-x-2",children:[e.jsx(a,{children:e.jsx(G,{checked:s.value,onCheckedChange:s.onChange})}),e.jsx(l,{className:"cursor-pointer text-sm",children:"Ghi nhớ đăng nhập"})]})}),e.jsx("a",{href:"#",className:"text-sm text-primary hover:underline",children:"Quên mật khẩu?"})]}),e.jsx(w,{type:"submit",className:"w-full",disabled:x,children:x?"Đang xử lý...":"Đăng nhập"})]})})}),e.jsx(T,{value:"register",children:e.jsx(k,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(E),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(n,{control:i.control,name:"firstName",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Họ"}),e.jsx(a,{children:e.jsx(c,{placeholder:"Nguyễn",...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:i.control,name:"lastName",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Tên"}),e.jsx(a,{children:e.jsx(c,{placeholder:"Văn A",...s})}),e.jsx(t,{})]})})]}),e.jsx(n,{control:i.control,name:"email",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Email"}),e.jsx(a,{children:e.jsx(c,{placeholder:"vidu@example.com",...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:i.control,name:"phone",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Số điện thoại"}),e.jsx(a,{children:e.jsx(c,{placeholder:"0912345678",...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:i.control,name:"password",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Mật khẩu"}),e.jsx(a,{children:e.jsx(c,{type:"password",placeholder:"••••••",...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:i.control,name:"confirmPassword",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Xác nhận mật khẩu"}),e.jsx(a,{children:e.jsx(c,{type:"password",placeholder:"••••••",...s})}),e.jsx(t,{})]})}),e.jsx(n,{control:i.control,name:"role",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Loại tài khoản"}),e.jsxs(R,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(a,{children:e.jsx(H,{children:e.jsx(K,{placeholder:"Chọn loại tài khoản"})})}),e.jsxs(Q,{children:[e.jsx(p,{value:"customer",children:"Khách hàng"}),e.jsx(p,{value:"staff",children:"Nhân viên (yêu cầu xác nhận)"}),e.jsx(p,{value:"owner",children:"Chủ salon (yêu cầu xác nhận)"})]})]}),e.jsx(t,{})]})}),e.jsx(w,{type:"submit",className:"w-full",disabled:x,children:x?"Đang xử lý...":"Đăng ký"})]})})})]})]})})]})})}export{we as default};
