import{f as Ce,k as qe,r as l,l as Me,j as e,n as ze,m as q,P as Be,D as Qe,R as Ke,w as Ge,B as Xe,x as se,g as Ue,z as Ye,A as le}from"./index-CJ2DIymG.js";import{B as L}from"./button-Kaq_t9cK.js";import{P as Pe,a as De,b as ke,C as Se,i as ve}from"./popover-CCAtsr3l.js";import{C as Je,a as Ze}from"./card-B9vxntf8.js";import{U as Ie,S as ye}from"./skeleton-CN8fHvJu.js";import{b as et}from"./Combination-B68zxYJI.js";import{c as Ee,A as tt,C as nt,a as st,R as at}from"./index-CJoBZb7l.js";import{u as _}from"./useQuery-qRia3138.js";import{D as rt,b as ot,c as it,d as ct,e as lt,f as dt}from"./dialog-DoccAKgl.js";import{u as ht,s as ut,F as mt,a as z,b as B,c as Q,d as Y,e as K,f as pt,L as de,z as E}from"./zod-CRx0QJTL.js";import{R as gt,a as he}from"./radio-group-BDL8e0wC.js";import{S as be,a as je,b as we,c as Te,d as Ne}from"./select-BpM6faJa.js";import{u as xt,T as ft}from"./textarea-B-V9iR8_.js";import{C as _e}from"./calendar-B1YcSnLZ.js";import{C as vt}from"./check-DTK29BBT.js";import{S as yt}from"./scissors-CdRMOk0I.js";import{C as He}from"./clock-46LkIZy_.js";import{t as bt,m as jt,b as ue,a as J,c as wt,d as Z,f as H}from"./format-C_m1koB7.js";import{C as Tt}from"./chevron-left-s70pik_1.js";import{C as Nt}from"./chevron-right-Cet5iNzP.js";import{I as Ct}from"./info-BtPQ2tuT.js";import{P as Mt}from"./plus-BoM47KXS.js";import"./index-CINiAiVv.js";import"./index-BuMtFZ2j.js";import"./index-BVEw5k79.js";import"./circle-B5x0Ae-4.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Dt=Ce("calendar-days",Pt);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],St=Ce("chevrons-up-down",kt);function It(n,s,t){const a=bt(n,t==null?void 0:t.in);return a.setTime(a.getTime()+s*jt),a}const Et={lessThanXSeconds:{one:"dưới 1 giây",other:"dưới {{count}} giây"},xSeconds:{one:"1 giây",other:"{{count}} giây"},halfAMinute:"nửa phút",lessThanXMinutes:{one:"dưới 1 phút",other:"dưới {{count}} phút"},xMinutes:{one:"1 phút",other:"{{count}} phút"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ngày",other:"{{count}} ngày"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 tháng",other:"khoảng {{count}} tháng"},xMonths:{one:"1 tháng",other:"{{count}} tháng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}},_t=(n,s,t)=>{let a;const c=Et[n];return typeof c=="string"?a=c:s===1?a=c.one:a=c.other.replace("{{count}}",String(s)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?a+" nữa":a+" trước":a},Ht={full:"EEEE, 'ngày' d MMMM 'năm' y",long:"'ngày' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},Lt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Rt={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},At={date:ue({formats:Ht,defaultWidth:"full"}),time:ue({formats:Lt,defaultWidth:"full"}),dateTime:ue({formats:Rt,defaultWidth:"full"})},Vt={lastWeek:"eeee 'tuần trước vào lúc' p",yesterday:"'hôm qua vào lúc' p",today:"'hôm nay vào lúc' p",tomorrow:"'ngày mai vào lúc' p",nextWeek:"eeee 'tới vào lúc' p",other:"P"},Ft=(n,s,t,a)=>Vt[n],Ot={narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước Công Nguyên","sau Công Nguyên"]},Wt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Quý 1","Quý 2","Quý 3","Quý 4"]},$t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["quý I","quý II","quý III","quý IV"]},qt={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"]},zt={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["tháng 01","tháng 02","tháng 03","tháng 04","tháng 05","tháng 06","tháng 07","tháng 08","tháng 09","tháng 10","tháng 11","tháng 12"]},Bt={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]},Qt={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"}},Kt={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"giữa trưa",morning:"vào buổi sáng",afternoon:"vào buổi chiều",evening:"vào buổi tối",night:"vào ban đêm"}},Gt=(n,s)=>{const t=Number(n),a=s==null?void 0:s.unit;if(a==="quarter")switch(t){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(a==="day")switch(t){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else{if(a==="week")return t===1?"thứ nhất":"thứ "+t;if(a==="dayOfYear")return t===1?"đầu tiên":"thứ "+t}return String(t)},Xt={ordinalNumber:Gt,era:J({values:Ot,defaultWidth:"wide"}),quarter:J({values:Wt,defaultWidth:"wide",formattingValues:$t,defaultFormattingWidth:"wide",argumentCallback:n=>n-1}),month:J({values:qt,defaultWidth:"wide",formattingValues:zt,defaultFormattingWidth:"wide"}),day:J({values:Bt,defaultWidth:"wide"}),dayPeriod:J({values:Qt,defaultWidth:"wide",formattingValues:Kt,defaultFormattingWidth:"wide"})},Ut=/^(\d+)/i,Yt=/\d+/i,Jt={narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},Zt={any:[/^t/i,/^s/i]},en={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},tn={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},nn={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},sn={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},an={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},rn={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},on={narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},cn={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},ln={ordinalNumber:wt({matchPattern:Ut,parsePattern:Yt,valueCallback:n=>parseInt(n,10)}),era:Z({matchPatterns:Jt,defaultMatchWidth:"wide",parsePatterns:Zt,defaultParseWidth:"any"}),quarter:Z({matchPatterns:en,defaultMatchWidth:"wide",parsePatterns:tn,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Z({matchPatterns:nn,defaultMatchWidth:"wide",parsePatterns:sn,defaultParseWidth:"wide"}),day:Z({matchPatterns:an,defaultMatchWidth:"wide",parsePatterns:rn,defaultParseWidth:"wide"}),dayPeriod:Z({matchPatterns:on,defaultMatchWidth:"wide",parsePatterns:cn,defaultParseWidth:"any"})},me={code:"vi",formatDistance:_t,formatLong:At,formatRelative:Ft,localize:Xt,match:ln,options:{weekStartsOn:1,firstWeekContainsDate:1}};var[ae,cs]=qe("Tooltip",[Ee]),re=Ee(),Le="TooltipProvider",dn=700,pe="tooltip.open",[hn,xe]=ae(Le),Re=n=>{const{__scopeTooltip:s,delayDuration:t=dn,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:p}=n,x=l.useRef(!0),T=l.useRef(!1),d=l.useRef(0);return l.useEffect(()=>{const v=d.current;return()=>window.clearTimeout(v)},[]),e.jsx(hn,{scope:s,isOpenDelayedRef:x,delayDuration:t,onOpen:l.useCallback(()=>{window.clearTimeout(d.current),x.current=!1},[]),onClose:l.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>x.current=!0,a)},[a]),isPointerInTransitRef:T,onPointerInTransitChange:l.useCallback(v=>{T.current=v},[]),disableHoverableContent:c,children:p})};Re.displayName=Le;var oe="Tooltip",[un,ie]=ae(oe),Ae=n=>{const{__scopeTooltip:s,children:t,open:a,defaultOpen:c=!1,onOpenChange:p,disableHoverableContent:x,delayDuration:T}=n,d=xe(oe,n.__scopeTooltip),v=re(s),[g,b]=l.useState(null),h=et(),f=l.useRef(0),w=x??d.disableHoverableContent,C=T??d.delayDuration,y=l.useRef(!1),[N=!1,M]=Ge({prop:a,defaultProp:c,onChange:A=>{A?(d.onOpen(),document.dispatchEvent(new CustomEvent(pe))):d.onClose(),p==null||p(A)}}),k=l.useMemo(()=>N?y.current?"delayed-open":"instant-open":"closed",[N]),I=l.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y.current=!1,M(!0)},[M]),D=l.useCallback(()=>{window.clearTimeout(f.current),f.current=0,M(!1)},[M]),R=l.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{y.current=!0,M(!0),f.current=0},C)},[C,M]);return l.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),e.jsx(at,{...v,children:e.jsx(un,{scope:s,contentId:h,open:N,stateAttribute:k,trigger:g,onTriggerChange:b,onTriggerEnter:l.useCallback(()=>{d.isOpenDelayedRef.current?R():I()},[d.isOpenDelayedRef,R,I]),onTriggerLeave:l.useCallback(()=>{w?D():(window.clearTimeout(f.current),f.current=0)},[D,w]),onOpen:I,onClose:D,disableHoverableContent:w,children:t})})};Ae.displayName=oe;var ge="TooltipTrigger",Ve=l.forwardRef((n,s)=>{const{__scopeTooltip:t,...a}=n,c=ie(ge,t),p=xe(ge,t),x=re(t),T=l.useRef(null),d=Me(s,T,c.onTriggerChange),v=l.useRef(!1),g=l.useRef(!1),b=l.useCallback(()=>v.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),e.jsx(tt,{asChild:!0,...x,children:e.jsx(ze.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:d,onPointerMove:q(n.onPointerMove,h=>{h.pointerType!=="touch"&&!g.current&&!p.isPointerInTransitRef.current&&(c.onTriggerEnter(),g.current=!0)}),onPointerLeave:q(n.onPointerLeave,()=>{c.onTriggerLeave(),g.current=!1}),onPointerDown:q(n.onPointerDown,()=>{c.open&&c.onClose(),v.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:q(n.onFocus,()=>{v.current||c.onOpen()}),onBlur:q(n.onBlur,c.onClose),onClick:q(n.onClick,c.onClose)})})});Ve.displayName=ge;var mn="TooltipPortal",[ls,pn]=ae(mn,{forceMount:void 0}),G="TooltipContent",Fe=l.forwardRef((n,s)=>{const t=pn(G,n.__scopeTooltip),{forceMount:a=t.forceMount,side:c="top",...p}=n,x=ie(G,n.__scopeTooltip);return e.jsx(Be,{present:a||x.open,children:x.disableHoverableContent?e.jsx(Oe,{side:c,...p,ref:s}):e.jsx(gn,{side:c,...p,ref:s})})}),gn=l.forwardRef((n,s)=>{const t=ie(G,n.__scopeTooltip),a=xe(G,n.__scopeTooltip),c=l.useRef(null),p=Me(s,c),[x,T]=l.useState(null),{trigger:d,onClose:v}=t,g=c.current,{onPointerInTransitChange:b}=a,h=l.useCallback(()=>{T(null),b(!1)},[b]),f=l.useCallback((w,C)=>{const y=w.currentTarget,N={x:w.clientX,y:w.clientY},M=bn(N,y.getBoundingClientRect()),k=jn(N,M),I=wn(C.getBoundingClientRect()),D=Nn([...k,...I]);T(D),b(!0)},[b]);return l.useEffect(()=>()=>h(),[h]),l.useEffect(()=>{if(d&&g){const w=y=>f(y,g),C=y=>f(y,d);return d.addEventListener("pointerleave",w),g.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",w),g.removeEventListener("pointerleave",C)}}},[d,g,f,h]),l.useEffect(()=>{if(x){const w=C=>{const y=C.target,N={x:C.clientX,y:C.clientY},M=(d==null?void 0:d.contains(y))||(g==null?void 0:g.contains(y)),k=!Tn(N,x);M?h():k&&(h(),v())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,g,x,v,h]),e.jsx(Oe,{...n,ref:p})}),[xn,fn]=ae(oe,{isInside:!1}),vn=Xe("TooltipContent"),Oe=l.forwardRef((n,s)=>{const{__scopeTooltip:t,children:a,"aria-label":c,onEscapeKeyDown:p,onPointerDownOutside:x,...T}=n,d=ie(G,t),v=re(t),{onClose:g}=d;return l.useEffect(()=>(document.addEventListener(pe,g),()=>document.removeEventListener(pe,g)),[g]),l.useEffect(()=>{if(d.trigger){const b=h=>{const f=h.target;f!=null&&f.contains(d.trigger)&&g()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[d.trigger,g]),e.jsx(Qe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:p,onPointerDownOutside:x,onFocusOutside:b=>b.preventDefault(),onDismiss:g,children:e.jsxs(nt,{"data-state":d.stateAttribute,...v,...T,ref:s,style:{...T.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(vn,{children:a}),e.jsx(xn,{scope:t,isInside:!0,children:e.jsx(Ke,{id:d.contentId,role:"tooltip",children:c||a})})]})})});Fe.displayName=G;var We="TooltipArrow",yn=l.forwardRef((n,s)=>{const{__scopeTooltip:t,...a}=n,c=re(t);return fn(We,t).isInside?null:e.jsx(st,{...c,...a,ref:s})});yn.displayName=We;function bn(n,s){const t=Math.abs(s.top-n.y),a=Math.abs(s.bottom-n.y),c=Math.abs(s.right-n.x),p=Math.abs(s.left-n.x);switch(Math.min(t,a,c,p)){case p:return"left";case c:return"right";case t:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function jn(n,s,t=5){const a=[];switch(s){case"top":a.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":a.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":a.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":a.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return a}function wn(n){const{top:s,right:t,bottom:a,left:c}=n;return[{x:c,y:s},{x:t,y:s},{x:t,y:a},{x:c,y:a}]}function Tn(n,s){const{x:t,y:a}=n;let c=!1;for(let p=0,x=s.length-1;p<s.length;x=p++){const T=s[p].x,d=s[p].y,v=s[x].x,g=s[x].y;d>a!=g>a&&t<(v-T)*(a-d)/(g-d)+T&&(c=!c)}return c}function Nn(n){const s=n.slice();return s.sort((t,a)=>t.x<a.x?-1:t.x>a.x?1:t.y<a.y?-1:t.y>a.y?1:0),Cn(s)}function Cn(n){if(n.length<=1)return n.slice();const s=[];for(let a=0;a<n.length;a++){const c=n[a];for(;s.length>=2;){const p=s[s.length-1],x=s[s.length-2];if((p.x-x.x)*(c.y-x.y)>=(p.y-x.y)*(c.x-x.x))s.pop();else break}s.push(c)}s.pop();const t=[];for(let a=n.length-1;a>=0;a--){const c=n[a];for(;t.length>=2;){const p=t[t.length-1],x=t[t.length-2];if((p.x-x.x)*(c.y-x.y)>=(p.y-x.y)*(c.x-x.x))t.pop();else break}t.push(c)}return t.pop(),s.length===1&&t.length===1&&s[0].x===t[0].x&&s[0].y===t[0].y?s:s.concat(t)}var Mn=Re,Pn=Ae,Dn=Ve,kn=Fe;const Sn=Mn,In=Pn,En=Dn,_n=l.forwardRef(({className:n,sideOffset:s=4,...t},a)=>e.jsx(kn,{ref:a,sideOffset:s,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})),Hn=E.object({date:E.date({required_error:"Vui lòng chọn ngày"}),time:E.string({required_error:"Vui lòng chọn giờ"}),serviceIds:E.array(E.number()).min(1,{message:"Vui lòng chọn ít nhất một dịch vụ"}),staffId:E.number().optional(),notes:E.string().optional(),paymentMethod:E.enum(["cash","card","transfer"])});function $e({open:n,onOpenChange:s,initialDate:t,initialServiceId:a,initialStaffId:c}){var ee,V,te,X;const{toast:p}=Ue(),x={id:1,name:"Test User",email:"test@example.com",role:"customer"},[T,d]=l.useState([]),{data:v=[]}=_({queryKey:["/api/services"]}),{data:g=[]}=_({queryKey:["/api/staff/available"]}),b=xt({mutationFn:async r=>(await Ye("POST","/api/appointments",r)).json(),onSuccess:()=>{p({title:"Đặt lịch thành công",description:"Lịch hẹn của bạn đã được tạo thành công"}),le.invalidateQueries({queryKey:["/api/appointments"]}),le.invalidateQueries({queryKey:["/api/appointments/today"]}),le.invalidateQueries({queryKey:["/api/appointments/upcoming"]}),h.reset(),s(!1)},onError:r=>{p({title:"Đặt lịch thất bại",description:r.message,variant:"destructive"})}}),h=ht({resolver:ut(Hn),defaultValues:{date:t||new Date,time:"",serviceIds:a?[a]:[],staffId:c,notes:"",paymentMethod:"cash"}}),[f,w]=l.useState(""),C=h.watch("serviceIds"),y=v.filter(r=>C.includes(r.id)),{data:N}=_({queryKey:["/api/settings"],select:r=>r.filter(i=>i.key==="salon_opening_hour"||i.key==="salon_closing_hour")}),M=parseInt(((ee=N==null?void 0:N.find(r=>r.key==="salon_opening_hour"))==null?void 0:ee.value)||"8"),k=parseInt(((V=N==null?void 0:N.find(r=>r.key==="salon_closing_hour"))==null?void 0:V.value)||"20");l.useEffect(()=>{if(!h.getValues("date"))return;const i=[],o=30;for(let u=M;u<k;u++)for(let j=0;j<60;j+=o)i.push(`${u.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`);d(i)},[h.watch("date"),M,k]),l.useEffect(()=>{const r=i=>{const o=document.getElementById("services-dropdown"),u=document.querySelector('input[placeholder="Tìm và chọn dịch vụ..."]');o&&!o.contains(i.target)&&u&&!u.contains(i.target)&&o.classList.add("hidden")};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]);const I=r=>{if(!x){p({title:"Vui lòng đăng nhập",description:"Bạn cần đăng nhập để đặt lịch",variant:"destructive"});return}if(r.serviceIds.length===0){p({title:"Vui lòng chọn dịch vụ",description:"Bạn cần chọn ít nhất một dịch vụ",variant:"destructive"});return}const i=r.time.split(":"),o=parseInt(i[0]),u=parseInt(i[1]),j=new Date(r.date);j.setHours(o,u,0,0);const P={userId:x.id,serviceIds:r.serviceIds,staffId:r.staffId,date:j.toISOString(),notes:r.notes,status:"pending",paymentStatus:"pending"};b.mutate(P)},D=()=>y.length?y.reduce((r,i)=>r+i.duration,0):0,R=()=>y.length?y.reduce((r,i)=>r+i.price,0):0,A=r=>{if(!r||!y.length)return"";const[i,o]=r.split(":").map(Number),u=new Date;u.setHours(i,o,0,0);const j=It(u,D());return H(j,"HH:mm")};return e.jsx(rt,{open:n,onOpenChange:s,children:e.jsxs(ot,{className:"max-h-[85vh] overflow-y-auto sm:max-w-[900px]",children:[e.jsxs(it,{children:[e.jsx(ct,{children:"Đặt lịch hẹn mới"}),e.jsx(lt,{children:"Đặt lịch hẹn để sử dụng dịch vụ tại salon của chúng tôi"})]}),e.jsx(mt,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(I),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(z,{control:h.control,name:"date",render:({field:r})=>e.jsxs(B,{children:[e.jsx(Q,{children:"Ngày"}),e.jsxs(Pe,{children:[e.jsx(De,{asChild:!0,children:e.jsx(Y,{children:e.jsxs(L,{variant:"outline",className:`h-10 w-full pl-3 text-left font-normal ${r.value?"":"text-muted-foreground"}`,children:[r.value?H(r.value,"dd/MM/yyyy",{locale:me}):e.jsx("span",{children:"Chọn ngày"}),e.jsx(_e,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(ke,{className:"w-auto p-0",align:"start",children:e.jsx(Se,{mode:"single",selected:r.value,onSelect:r.onChange,initialFocus:!0,disabled:i=>i<new Date(new Date().setHours(0,0,0,0))})})]}),e.jsx(K,{})]})}),e.jsx(z,{control:h.control,name:"time",render:({field:r})=>e.jsxs(B,{children:[e.jsx(Q,{children:"Giờ"}),e.jsxs(be,{onValueChange:r.onChange,defaultValue:r.value,children:[e.jsx(Y,{children:e.jsx(je,{className:"h-10",children:e.jsx(we,{placeholder:"Chọn giờ"})})}),e.jsx(Te,{children:T.map(i=>e.jsx(Ne,{value:i,children:i},i))})]}),e.jsx(K,{})]})})]}),e.jsx(z,{control:h.control,name:"serviceIds",render:({field:r})=>e.jsxs(B,{children:[e.jsx(Q,{children:"Chọn dịch vụ (có thể chọn nhiều)"}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"mb-1 mt-1",children:e.jsxs("div",{className:"relative mt-1",children:[e.jsxs("div",{className:"relative h-10 w-full cursor-pointer overflow-hidden rounded-lg border border-input bg-green-50 text-left focus-within:border-primary focus-within:ring-1 focus-within:ring-primary hover:border-primary",children:[e.jsx("input",{className:"h-full w-full border-none bg-transparent py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:outline-none focus:ring-0",placeholder:"Tìm và chọn dịch vụ...",value:f,onChange:i=>w(i.target.value),onClick:()=>{var i;return(i=document.getElementById("services-dropdown"))==null?void 0:i.classList.toggle("hidden")}}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-2",onClick:()=>{var i;return(i=document.getElementById("services-dropdown"))==null?void 0:i.classList.toggle("hidden")},children:e.jsx(St,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),e.jsx("div",{id:"services-dropdown",className:"absolute z-50 mt-1 hidden max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",style:{minWidth:"300px"},onClick:i=>i.stopPropagation(),children:v.length===0?e.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Không tìm thấy dịch vụ."}):v.filter(i=>f===""||i.name.toLowerCase().includes(f.toLowerCase())).map(i=>e.jsxs("div",{className:`hover:bg-primary-50 relative cursor-pointer select-none py-2 pl-10 pr-4 ${r.value.includes(i.id)?"bg-primary-50":""}`,onClick:()=>{var o;if(!r.value.includes(i.id))r.onChange([...r.value,i.id]);else{const u=r.value.filter(j=>j!==i.id);r.onChange(u)}w(""),(o=document.getElementById("services-dropdown"))==null||o.classList.remove("hidden")},children:[e.jsxs("span",{className:`block truncate whitespace-normal ${r.value.includes(i.id)?"font-medium":"font-normal"}`,children:[i.name," - ",(i.price/100).toLocaleString("vi-VN"),"₫ (",i.duration," phút)"]}),r.value.includes(i.id)&&e.jsx("span",{className:"text-primary-600 absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(vt,{className:"h-5 w-5","aria-hidden":"true"})})]},i.id))})]})})}),e.jsx(K,{})]})}),e.jsx(z,{control:h.control,name:"staffId",render:({field:r})=>e.jsxs(B,{children:[e.jsx(Q,{children:"Nhân viên (không bắt buộc)"}),e.jsxs(be,{onValueChange:i=>r.onChange(parseInt(i)),defaultValue:r.value?r.value.toString():void 0,children:[e.jsx(Y,{children:e.jsx(je,{className:"h-10",children:e.jsx(we,{placeholder:"Chọn nhân viên (tùy chọn)"})})}),e.jsx(Te,{children:g.map(i=>e.jsxs(Ne,{value:i.id.toString(),children:[i.firstName," ",i.lastName]},i.id))})]}),e.jsx(pt,{children:"Nếu không chọn, chúng tôi sẽ sắp xếp nhân viên phù hợp cho bạn."}),e.jsx(K,{})]})}),e.jsx(z,{control:h.control,name:"notes",render:({field:r})=>e.jsxs(B,{children:[e.jsx(Q,{children:"Ghi chú (không bắt buộc)"}),e.jsx(Y,{children:e.jsx(ft,{placeholder:"Các yêu cầu đặc biệt hoặc thông tin thêm",className:"resize-none",...r})}),e.jsx(K,{})]})})]}),e.jsx("div",{className:"space-y-6",children:y.length>0&&e.jsxs("div",{className:"flex h-full flex-col space-y-4 rounded-md bg-gray-50 p-5",children:[e.jsxs("h3",{className:"mb-2 flex items-center text-lg font-semibold",children:[e.jsx(yt,{className:"mr-2 h-5 w-5"}),"Chi tiết đặt lịch"]}),e.jsxs("div",{className:"flex items-center border-b pb-3 text-sm",children:[e.jsx(Dt,{className:"mr-2 h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Ngày: "}),h.watch("date")?H(h.watch("date"),"dd/MM/yyyy",{locale:me}):"Chưa chọn"]})]}),h.watch("time")&&e.jsxs("div",{className:"flex items-center border-b pb-3 text-sm",children:[e.jsx(He,{className:"mr-2 h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Thời gian: "}),h.watch("time")," - ",A(h.watch("time")),e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Thời gian dự kiến: ",D()," phút"]})]})]}),e.jsxs("div",{className:"flex items-start border-b pb-3 text-sm",children:[e.jsx(Ie,{className:"mr-2 mt-0.5 h-4 w-4 text-gray-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"mb-1 font-medium",children:"Nhân viên:"}),h.watch("staffId")?((te=g.find(r=>r.id===h.watch("staffId")))==null?void 0:te.firstName)+" "+((X=g.find(r=>r.id===h.watch("staffId")))==null?void 0:X.lastName):e.jsx("span",{className:"text-gray-500",children:"Chưa chọn (hệ thống sẽ tự phân bổ)"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"mb-2 font-medium",children:"Dịch vụ đã chọn:"}),e.jsx("div",{className:"max-h-40 overflow-y-auto pr-1",children:y.map(r=>e.jsxs("div",{className:"mb-2 flex justify-between rounded border bg-white p-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:r.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[r.duration," phút"]})]}),e.jsxs("div",{className:"text-sm font-semibold",children:[(r.price/100).toLocaleString("vi-VN"),"₫"]})]},r.id))})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Tổng thời gian:"}),e.jsxs("span",{children:[D()," phút"]})]}),e.jsxs("div",{className:"mt-1 flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:"Tổng tiền:"}),e.jsxs("span",{children:[(R()/100).toLocaleString("vi-VN"),"₫"]})]})]})]})})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(z,{control:h.control,name:"paymentMethod",render:({field:r})=>e.jsxs(B,{className:"space-y-3",children:[e.jsx(Q,{children:"Phương thức thanh toán"}),e.jsx(Y,{children:e.jsxs(gt,{onValueChange:r.onChange,defaultValue:r.value,className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{value:"cash",id:"cash"}),e.jsx(de,{htmlFor:"cash",children:"Tiền mặt (thanh toán tại salon)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{value:"card",id:"card"}),e.jsx(de,{htmlFor:"card",children:"Thẻ tín dụng/ghi nợ"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{value:"transfer",id:"transfer"}),e.jsx(de,{htmlFor:"transfer",children:"Chuyển khoản ngân hàng"})]})]})}),e.jsx(K,{})]})})}),e.jsxs(dt,{children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Hủy"}),e.jsx(L,{type:"submit",disabled:b.isPending||!y.length||!h.watch("time")||!h.watch("date"),children:b.isPending?"Đang xử lý...":"Đặt lịch"})]})]})})]})})}function Ln({selectedDate:n=new Date}){var r,i;const[s,t]=l.useState(n),[a,c]=l.useState(!1),[p,x]=l.useState(void 0),[T,d]=l.useState(void 0);l.useEffect(()=>{t(n)},[n]);const v=H(s,"yyyy-MM-dd"),{data:g,isLoading:b}=_({queryKey:["/api/settings"],select:o=>o.filter(u=>u.key==="salon_opening_hour"||u.key==="salon_closing_hour")}),h=parseInt(((r=g==null?void 0:g.find(o=>o.key==="salon_opening_hour"))==null?void 0:r.value)||"8"),f=parseInt(((i=g==null?void 0:g.find(o=>o.key==="salon_closing_hour"))==null?void 0:i.value)||"20"),w=l.useMemo(()=>{const o=[];for(let u=h;u<f;u++)o.push(`${u}:00`),o.push(`${u}:30`);return o},[h,f]),{data:C,isLoading:y}=_({queryKey:["/api/appointments/date",v],queryFn:async()=>{const o=await fetch(`/api/appointments/date/${v}`);if(!o.ok)throw new Error("Failed to fetch appointments");return o.json()}}),{data:N,isLoading:M}=_({queryKey:["/api/staff/available"]}),{data:k,isLoading:I}=_({queryKey:["/api/users"]}),D=y||M||b||I,R=()=>{const o=new Date(s);o.setDate(o.getDate()-1),t(o)},A=()=>{const o=new Date(s);o.setDate(o.getDate()+1),t(o)},ee=(o,u)=>{const[j,P]=o.split(":").map(Number),m=new Date(s);m.setHours(j,P,0,0),x(m),d(u),c(!0)},V=o=>({1:{name:"Cắt tóc nam",duration:30},2:{name:"Cắt tóc nữ",duration:45},3:{name:"Nhuộm tóc",duration:120},4:{name:"Uốn tóc",duration:180},5:{name:"Duỗi tóc",duration:240}})[o],te=(o,u)=>{if(!C)return[];const[j,P]=u.split(":").map(Number);return C.filter(m=>{const ne=new Date(m.date);let U=30;if(m.notes){const S=m.notes.match(/\((\d+) phút\)/);S&&S[1]&&(U=parseInt(S[1]))}else if(m.serviceId){const S=V(m.serviceId);S&&(U=S.duration)}const F=new Date(ne);F.setMinutes(F.getMinutes()+U);const O=new Date(s);O.setHours(j,P,0,0);const W=new Date(O);return W.setMinutes(W.getMinutes()+30),m.staffId===o&&ne<W&&F>O})},X=o=>{if(I||!k)return`Khách ${o}`;const u=k.find(j=>j.id===o);return u?`${u.firstName||""} ${u.lastName||""}`.trim()||`Khách ${o}`:o>=1e3?{1001:"Nguyễn Văn A",1002:"Trần Thị B",1003:"Lê Văn C",1004:"Phạm Thị D",1005:"Hoàng Văn E",1006:"Đỗ Thị F",1007:"Ngô Văn G",1008:"Vũ Thị H",1009:"Đinh Văn I"}[o]||`Khách ${o}`:`Khách ${o}`};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex w-1/2 items-center space-x-2",children:[e.jsx(L,{variant:"outline",size:"sm",onClick:R,children:e.jsx(Tt,{className:"h-4 w-4"})}),e.jsxs(Pe,{children:[e.jsx(De,{asChild:!0,children:e.jsxs(L,{variant:"outline",className:"min-w-[240px] px-4",children:[e.jsx(_e,{className:"mr-2 h-4 w-4"}),ve(s,new Date)?"Hôm nay":H(s,"EEEE, dd/MM/yyyy",{locale:me})]})}),e.jsx(ke,{className:"w-auto p-0",align:"start",children:e.jsx(Se,{mode:"single",selected:s,onSelect:o=>o&&t(o),initialFocus:!0})})]}),e.jsx(L,{variant:"outline",size:"sm",onClick:A,children:e.jsx(Nt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex w-1/2 flex-wrap items-center justify-end gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"size-3 rounded border border-green-200 bg-green-100"}),e.jsx("span",{children:"Đã xác nhận"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"size-3 rounded border border-yellow-200 bg-yellow-100"}),e.jsx("span",{children:"Chờ xác nhận"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"size-3 rounded border border-red-200 bg-red-100"}),e.jsx("span",{children:"Đã hủy"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"size-3 rounded border border-blue-200 bg-blue-100"}),e.jsx("span",{children:"Hoàn thành"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"size-3 rounded border border-gray-200 bg-gray-100"}),e.jsx("span",{children:"Trống"})]})]})]}),e.jsx(Je,{children:e.jsx(Ze,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",style:{position:"relative"},children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sticky left-0 z-10 border border-border bg-background p-3 text-left font-medium",style:{width:"250px",minWidth:"250px",maxWidth:"250px"},children:"NV / Giờ"}),w.map(o=>e.jsx("th",{className:"min-w-[100px] border border-border bg-muted/50 p-3 text-center font-medium",children:o},o))]})}),e.jsxs("tbody",{children:[D&&Array.from({length:3}).map((o,u)=>e.jsxs("tr",{children:[e.jsx("td",{className:"sticky left-0 z-10 border border-border bg-background p-3",children:e.jsx(ye,{className:"h-5 w-32"})}),Array.from({length:w.length}).map((j,P)=>e.jsx("td",{className:"border border-border p-3",children:e.jsx(ye,{className:"h-8 w-full"})},`slot-skeleton-${u}-${P}`))]},`staff-skeleton-${u}`)),!D&&N&&N.map(o=>e.jsxs("tr",{children:[e.jsxs("td",{className:"sticky left-0 z-10 border border-border bg-background p-3 font-medium",style:{width:"250px",minWidth:"250px",maxWidth:"250px"},children:[o.firstName," ",o.lastName||""]}),w.map(u=>{var W;const j=te(o.id,u),P=j.length>0,m=j[0],[ne,U]=u.split(":").map(Number),F=new Date(s);F.setHours(ne,U,0,0);const O=F<new Date&&ve(s,new Date);return e.jsx("td",{className:se("h-12 min-h-10 border border-border p-3 text-center",{"opacity-60":O,"cursor-pointer bg-gray-100 hover:bg-gray-200":!P,"bg-green-100 hover:bg-green-200":P&&m.status==="confirmed","bg-yellow-100 hover:bg-yellow-200":P&&m.status==="pending","bg-red-100 hover:bg-red-200":P&&m.status==="cancelled","bg-blue-100 hover:bg-blue-200":P&&m.status==="completed"}),onClick:()=>{!P&&!O&&ee(u,o.id)},children:P?e.jsx(Sn,{children:e.jsxs(In,{children:[e.jsx(En,{asChild:!0,children:e.jsx("div",{className:se("font-medium",{"text-green-700":m.status==="confirmed","text-yellow-700":m.status==="pending","text-red-700":m.status==="cancelled","text-blue-700":m.status==="completed"}),children:X(m.userId)})}),e.jsx(_n,{className:"border-2 bg-white font-semibold shadow-lg",children:e.jsxs("div",{className:"space-y-1 text-xs text-gray-800",children:[e.jsxs("div",{className:"font-bold text-black",children:["Lịch hẹn #",m.id]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ie,{className:"size-3"}),X(m.userId)]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"size-3"}),"Trạng thái:"," ",e.jsx("span",{className:se("font-bold",{"text-green-600":m.status==="confirmed","text-yellow-600":m.status==="pending","text-red-600":m.status==="cancelled","text-blue-600":m.status==="completed"}),children:m.status==="confirmed"?"Đã xác nhận":m.status==="pending"?"Chờ xác nhận":m.status==="cancelled"?"Đã hủy":"Hoàn thành"})]}),m.serviceId&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(He,{className:"size-3"}),((W=V(m.serviceId))==null?void 0:W.name)||`Dịch vụ #${m.serviceId}`]}),(()=>{let S=30;if(m.notes){const $=m.notes.match(/\((\d+) phút\)/);$&&$[1]&&(S=parseInt($[1]))}else if(m.serviceId){const $=V(m.serviceId);$&&(S=$.duration)}const fe=new Date(m.date),ce=new Date(fe);return ce.setMinutes(ce.getMinutes()+S),e.jsxs("div",{className:"text-xs text-gray-600",children:[H(fe,"HH:mm")," - ",H(ce,"HH:mm")," (",S," ","phút)"]})})(),m.notes&&e.jsx("div",{className:"mt-1 border-t border-gray-300 pt-1",children:m.notes})]})})]})}):e.jsx("div",{className:"text-gray-500",children:"Trống"})},`${o.id}-${u}`)})]},o.id))]})]})})})}),e.jsx($e,{open:a,onOpenChange:c,initialDate:p,initialStaffId:T})]})}function ds(){const[n,s]=l.useState(!1),[t]=l.useState(new Date),a=()=>{s(!0)};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-heading text-2xl font-bold text-neutral-900",children:"Lịch hẹn"}),e.jsx("p",{className:"text-neutral-600",children:"Quản lý tất cả các lịch hẹn salon"})]}),e.jsxs(L,{onClick:a,children:[e.jsx(Mt,{className:"mr-2 size-4"}),"Tạo lịch hẹn mới"]})]}),e.jsx(Ln,{selectedDate:t}),e.jsx($e,{open:n,onOpenChange:s,initialDate:t})]})}export{ds as default};
