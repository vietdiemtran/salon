import{r as p,J as y,K as b,M as g}from"./index-Co3jKZaL.js";import{i as S,_,a as d,b as j,c as E,d as O,e as V,f as w,g as A,h as x,j as T}from"./isNumber-5m_zYJtK.js";function R(e){const r=p.useRef(e);return S(e,r.current)||(r.current=e),r.current}var C=Object.prototype,$=C.hasOwnProperty;function L(e,r){return e!=null&&$.call(e,r)}var M=L,k=M,q=_;function z(e,r){return e!=null&&q(e,r,k)}var D=z;const H=y(D);var K=x,U=w,B=V,F=j,J=d,N=E,G=A,I=O,Q="[object Map]",W="[object Set]",X=Object.prototype,Y=X.hasOwnProperty;function Z(e){if(e==null)return!0;if(J(e)&&(F(e)||typeof e=="string"||typeof e.splice=="function"||N(e)||I(e)||B(e)))return!e.length;var r=U(e);if(r==Q||r==W)return!e.size;if(G(e))return!K(e).length;for(var o in e)if(Y.call(e,o))return!1;return!0}var v=Z;const ee=y(v);function se(e){const r=R(e);return p.useMemo(()=>{const o={};for(const u in r)if(H(r,u)){const i=r[u];if(ee(i)&&!T(i)&&!b.isDate(i))continue;o[u]=i}return o},[r])}function ae(e){const[r,o]=g(),[u,i]=p.useState(()=>{const t={};for(const[a,{defaultValue:s,parse:f}]of Object.entries(e)){const n=r.get(a);t[a]=n?f(n):s}return t}),m=p.useRef(u);m.current=u;const l=p.useCallback((t,a)=>s=>{i(n=>({...n,[t]:s}));const f=a(s);o(f?n=>{const c=new URLSearchParams(n);return c.set(t,f),c}:n=>{const c=new URLSearchParams(n);return c.delete(t),c})},[o]),P=Object.entries(e).reduce((t,[a,{stringify:s}])=>(t[a]=l(a,s),t),{});return p.useEffect(()=>{const t={};let a=!1;for(const[s,{defaultValue:f,parse:n}]of Object.entries(e)){const c=r.get(s),h=c?n(c):f;h!==m.current[s]&&(t[s]=h,a=!0)}a&&i(s=>({...s,...t}))},[r,e]),{values:u,setters:P}}export{se as a,ae as u};
